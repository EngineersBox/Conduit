{
    "source": {
        "uri": "localhost:9200",
        "type": "REST",
        "auth": {
            "type": "basic",
            "username": "some_test_user",
            "password": "P4ss-w0rd1!2@3#4$"
        }
    },
    "configuration": {
        "json_provider": "jackson",
        "mapping_provider": "jackson"
    },
    "metrics": [
        {
            "namespace": "/service/plugin/test_metric",
            "path": "$..book[?(@.price <= $['expensive'])].price",
            "type": {
                "container": "list",
                "type": "double",
                "suffix_format": [
                    {
                        "template": "/book_{index}",
                        "to": 2
                    },
                    {
                        "template": "/other_book_{index}",
                        "from": 2
                    }
                ]
            }
        },
        {
            "namespace": "/service/other_plugin/last_two_books",
            "path": "$..book[-2:].test_values",
            "type": {
                "container": "map",
                "type": {
                    "container": "list",
                    "type": "float",
                    "suffix_format": "/value_{index}"
                },
                "suffix_format": "/book_{index}"
            }
        },
        {
            "namespace": "/service/core/books_count",
            "path": "$..book[?(@.isbn)].length()",
            "type": "int"
        }
    ]
}